<mat-card>
  <mat-card-title>Inscription</mat-card-title>
  <mat-card-content>
    <form [formGroup]="formGroup" (ngSubmit)="Submit()">

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" type="email" placeholder="Entrez votre email">
        <mat-error *ngIf="formGroup.get('email')?.hasError('required')">Email requis</mat-error>
        <mat-error *ngIf="formGroup.get('email')?.hasError('email')">Format email invalide</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Prénom</mat-label>
        <input matInput formControlName="firstname" type="text" placeholder="Entrez votre prénom">
        <mat-error *ngIf="formGroup.get('firstname')?.hasError('required')">Prénom requis</mat-error>
        <mat-error *ngIf="formGroup.get('firstname')?.hasError('min')">Prénom trop court</mat-error>
        <mat-error *ngIf="formGroup.get('firstname')?.hasError('max')">Prénom trop long</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Nom</mat-label>
        <input matInput formControlName="lastname" type="text" placeholder="Entrez votre nom">
        <mat-error *ngIf="formGroup.get('lastname')?.hasError('required')">Nom requis</mat-error>
        <mat-error *ngIf="formGroup.get('lastname')?.hasError('min')">Nom trop court</mat-error>
        <mat-error *ngIf="formGroup.get('lastname')?.hasError('max')">Nom trop long</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Groupe</mat-label>
        <input matInput formControlName="groupName" type="text" placeholder="Entrez votre groupe">
        <mat-error *ngIf="formGroup.get('groupName')?.hasError('required')">Groupe requis</mat-error>
        <mat-error *ngIf="formGroup.get('groupName')?.hasError('min')">Nom de groupe trop court</mat-error>
        <mat-error *ngIf="formGroup.get('groupName')?.hasError('max')">Nom de groupe trop long</mat-error>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Date de naissance</mat-label>
        <input matInput formControlName="dateOfBirth" [matDatepicker]="picker">
        <mat-hint>MM/JJ/AAAA</mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker class="picker"></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Mot de passe</mat-label>
        <input matInput formControlName="password" type="password" placeholder="Entrez votre mot de passe">
        <mat-error *ngIf="formGroup.get('password')?.hasError('required')">Mot de passe requis</mat-error>
        <mat-error *ngIf="formGroup.get('password')?.hasError('min')">Mot de passe trop court</mat-error>
        <mat-error *ngIf="formGroup.get('password')?.hasError('max')">Mot de passe trop long</mat-error>
      </mat-form-field>

      <p *ngIf="errorMessage" class="error-message">{{errorMessage}}</p>

      <div *ngIf="isLoading" class="loading-spinner">
        <mat-spinner></mat-spinner>
      </div>

      <div class="actions">
        <button class="custom-button" color="primary" type="submit" 
        [disabled]="formGroup.invalid || isLoading"
        [ngClass]="{ 'disabled-button': formGroup.invalid || isLoading }">S'inscrire</button>
        <button class="custom-button" color="warn" type="button" (click)="back()">Retour</button>
      </div>

    </form>
  </mat-card-content>
  <mat-card-actions class="login-link">
    <p>Déjà un compte ? <a routerLink="/auth/login">Se connecter</a></p>
  </mat-card-actions>
</mat-card>