<div class="mat-card-container">
<mat-card>
    <div class="title">
        <div>
            <button class="arrow_back" (click)="back()">
                <mat-icon>arrow_back</mat-icon>
            </button>
        </div>
        <mat-card-title>Changer le mot de passe</mat-card-title>
    </div>
    <mat-card-content>
        <form [formGroup]="formGroup" (ngSubmit)="Submit()">

            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Nouveau mot de passe</mat-label>
                <input matInput formControlName="newPassword" type="password" placeholder="Entrez votre nouveau mot de passe">
                <mat-error *ngIf="formGroup.get('newPassword')?.hasError('required')">Mot de passe requis</mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Confirmer le mot de passe</mat-label>
                <input matInput formControlName="confirmPassword" type="password" placeholder="Entrez votre nouveau mot de passe">
                <mat-error *ngIf="formGroup.get('confirmPassword')?.hasError('required')">Mot de passe requis</mat-error>
            </mat-form-field>

            <p *ngIf="errorMessage" class="error-message">{{errorMessage}}</p>

            <div *ngIf="isLoading" class="loading-spinner">
                <mat-spinner></mat-spinner>
            </div>

            <div class="button-container">
                <button class="custom-button" color="primary" type="submit" 
                [disabled]="formGroup.invalid || isLoading"
                [ngClass]="{ 'disabled-button': formGroup.invalid || isLoading }">Changer le mot de passe</button>
            </div>

        </form>
    </mat-card-content>
</mat-card>
</div>